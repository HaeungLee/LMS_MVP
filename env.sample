# Root .env sample
# 환경별 설정 가이드: development / staging / production

# ===== 환경 설정 =====
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
# 프로덕션에서는: ENVIRONMENT=production, DEBUG=false, LOG_LEVEL=WARNING

# ===== 서버 설정 =====
API_HOST=127.0.0.1
API_PORT=8000

# ===== 데이터베이스 =====
# 로컬 Docker 사용 시:
DATABASE_URL=postgresql://lms_user:1234@localhost:15432/lms_mvp_db
# 또는 개별 설정:
POSTGRES_HOST=localhost
POSTGRES_PORT=15432
POSTGRES_USER=lms_user
POSTGRES_PASSWORD=1234
POSTGRES_DB=lms_mvp_db
# 프로덕션 (Neon 등): DATABASE_URL=postgresql://user:pass@host/db?sslmode=require
SLOW_QUERY_MS=300

# ===== Redis (선택) =====
# 로컬: REDIS_URL=redis://localhost:6379
# Upstash:
UPSTASH_REDIS_REST_URL=https://your-instance.upstash.io
UPSTASH_REDIS_REST_TOKEN=your-token-here

# ===== JWT/인증 =====
# ⚠️ 프로덕션에서 반드시 강력한 키로 변경!
JWT_SECRET=dev_secret_change_me_in_production
JWT_EXPIRES_IN_MIN=120
REFRESH_EXPIRES_IN_DAYS=14

# ===== CORS =====
# JSON 배열 또는 쉼표 구분
BACKEND_CORS_ORIGINS=["http://localhost:5173","http://localhost:3000","http://127.0.0.1:5173"]

# ===== LLM / OpenRouter =====
OPENROUTER_API_KEY=put-your-openrouter-key-here
LLM_PROVIDER=openrouter
OPENROUTER_MODEL=qwen/qwen3-coder:free
LLM_TIMEOUT_MS=30000
LLM_MAX_RETRIES=2
LLM_ENABLED=true
LLM_CACHE_TTL_SECONDS=600
LLM_MAX_RPM=20

# ===== AI 기능 플래그 =====
AI_QUESTION_GENERATION_ENABLED=true
AI_MAX_QUESTIONS_PER_REQUEST=10
AI_FEEDBACK_ENABLED=true

# ===== 결제 (토스페이먼츠) =====
TOSS_CLIENT_KEY=test_ck_xxx
TOSS_SECRET_KEY=test_sk_xxx

# ===== 이메일 (SMTP) =====
EMAIL_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=your-email@gmail.com
FROM_NAME=EduAI
FRONTEND_URL=http://localhost:5173

# ===== 프론트엔드 (Vite) =====
# frontend/.env에 복사
VITE_API_BASE_URL=http://localhost:8000


